---

cluster_master: "{{ play_hosts[0] }}"
role_separation: false
hostgroup: "{{ group_names[0] }}"
hostgroup_hub: "{{ hostgroup }}-hub"
hostgroup_leaf: "{{ hostgroup }}-leaf"


# do not ignore failed runcluvfy.sh
gi_ignoreprereq: false

giignoreprereqparam: "{% if gi_ignoreprereq | bool %}-ignorePrereq{% endif %}"


init_dg_exists: "{% for dg in asm_diskgroups if oracle_asm_init_dg == dg.diskgroup %}true{% endfor %}"
oracle_directories:
  - {name: "{{ oracle_stage }}", owner: "{{ oracle_user }}", group: "{{ oracle_group }}", mode: 775}
  - {name: "{{ oracle_rsp_stage }}", owner: "{{ oracle_user }}", group: "{{ oracle_group }}", mode: 775}
  - {name: "{{ oracle_base }}", owner: "{{ oracle_user }}", group: "{{ oracle_group }}", mode: 775}
  - {name: "{{ oracle_inventory_loc }}", owner: "{{ grid_install_user }}", group: "{{ oracle_group }}", mode: 775}
  - {name: "{{ oracle_base }}/cfgtoollogs", owner: "{{ oracle_user }}", group: "{{ oracle_group }}", mode: 775}
  - {name: "{{ oracle_base }}/admin", owner: "{{ oracle_user }}", group: "{{ oracle_group }}", mode: 775}
  - {name: "{{ oracle_base }}/audit", owner: "{{ oracle_user }}", group: "{{ oracle_group }}", mode: 775}
  - {name: "{{ oracle_base }}/cfgtoollogs/dbca", owner: "{{ oracle_user }}", group: "{{ oracle_group }}", mode: 775}
  - {name: "{{ oracle_base }}/cfgtoollogs/sqlpatch", owner: "{{ oracle_user }}", group: "{{ oracle_group }}", mode: 775}
  - {name: "{{ oracle_base }}/cfgtoollogs/netca", owner: "{{ oracle_user }}", group: "{{ oracle_group }}", mode: 775}

oracle_env:
  ORACLE_HOME: "{{ oracle_home_gi }}"

oracle_profile_name_gi: ".profile_grid"    # .profile that sets up the environment for Grid Infrastructure (Cluster or Single node)
oracle_grid_responsefile: "grid-{{ oracle_cluster_name }}.rsp"   # Name of responsefile-name used when installing Grid oInfrastructure

# GI

# The check for the old passwords are there for backwards compatibility and only temporary, will be removed
default_gipass: "{% if oracle_password is defined %}{{ oracle_password }}{% else %}Oracle123{% endif %}"

# The check for the old passwords are there for backwards compatibility and only temporary, will be removed
sysasmpassword: "{% if oracle_password is defined %}{{ oracle_password }}{% else %}Oracle123{% endif %}"

# The check for the old passwords are there for backwards compatibility and only temporary, will be removed
asmmonitorpassword: "{% if oracle_password is defined %}{{ oracle_password }}{% else %}Oracle123{% endif %}"
# DB

# The check for the old passwords are there for  backwards compatibility and only temporary, will be removed
default_dbpass: "{% if item.0.oracle_db_passwd is defined %}{{ item.0.oracle_db_passwd }}{% else %}Oracle123{% endif %}"

# oracle_password: Oracle123                                       # Password used for all Grid Infrastructure related resources (e.g ASM)
oracle_scan: your.scan.address                                   # Scan address for Clustered Grid Infrastructure
oracle_vip: -vip                                                 # Suffix for the host VIP-addresses (e.g orarac01-vip)
oracle_scan_port: 1521                                           # Listener port for scan-listener

# Picks the last octet from the public ip to use for cluster-interconnect ip (e.g 3.3.3.51)
oracle_ic_net: 3.3.3.{{ ansible_all_ipv4_addresses[0].split(".")[-1] }}

oracle_asm_init_dg: crs
device_persistence: asmlib
oracle_asm_disk_string: ORCL:*
cvuqdisk_rpm: "{%- if oracle_install_version_gi > '12.1.0.2' -%}cvuqdisk-1.0.10-1.rpm\
               {%- else -%}cvuqdisk-1.0.9-1.rpm\
               {%- endif -%}"

oracle_cluster_name: "{{ hostgroup }}"      # Name of the cluster when setting up Clustered Grid Infrastructure
oracle_hostname: "{{ ansible_fqdn }}"                            # Full (FQDN) name of the host
oracle_gi_nic_pub: eth0                        # Default interface for 'public' traffic. Only used in RAC
oracle_gi_nic_priv: eth1                       # Default interface for interconnect traffic. Only used in RAC

run_configtoolallcommand: true
oracle_cluster_mgmdb: true
oracle_gi_cluster_type: STANDARD              # STANDARD | FLEX | STANDALONE (12.2 specific)
oracle_install_option_gi: "{% if configure_cluster %}CRS_CONFIG{% else %}HA_CONFIG{% endif %}"
oracle_install_version_gi: 12.2.0.1
patch_before_rootsh: true
apply_patches_gi: false

oracle_asm_storage_option: "{% if oracle_install_version_gi is version('12.2', '>=') %}FLEX_ASM_STORAGE{% else %}LOCAL_ASM_STORAGE{% endif %}"

oracle_gi_gns_subdomain: a.b.c
oracle_gi_gns_vip: gnsvip.a.b.c


opatcharchive: "{{ oracle_stage_install }}/{{ oracle_install_version_gi }}/
                {%- for opatchfile in oracle_opatch_patch if opatchfile['version']==oracle_install_version_gi -%}{{ opatchfile['filename'] }}
                {%- endfor -%}"

oracle_gi_image: "{%- if oracle_sw_copy %}{{ oracle_stage }}\
                {%- else %}{{ oracle_stage_remote }}\
                {%- endif %}\
                {%- if oracle_install_image_gi is defined %}/{{ oracle_install_image_gi }}\
                {%- else %}//{{ item.filename }}\
                {%- endif %}"

oracle_sw_image_gi:                                              # Files containing the installation media for Grid Infrastructure
  - {filename: LINUX.X64_213000_grid_home.zip, version: 21.3.0.0, creates: 'install/.img.bin'}
  - {filename: LINUX.X64_193000_grid_home.zip, version: 19.3.0.0, creates: 'install/.img.bin'}
  - {filename: LINUX.X64_180000_grid_home.zip, version: 18.3.0.0, creates: 'install/.img.bin'}
  - {filename: linuxx64_12201_grid_home.zip, version: 12.2.0.1, creates: 'xdk/mesg/lsxja.msb'}
  - {filename: linuxamd64_12102_grid_1of2.zip, version: 12.1.0.2, creates: 'grid/stage/sizes/oracle.crs.12.1.0.2.0.sizes.properties'}
  - {filename: linuxamd64_12102_grid_2of2.zip, version: 12.1.0.2, creates: 'grid/install/.oui'}
  - {filename: linuxamd64_12c_grid_1of2.zip, version: 12.1.0.1}
  - {filename: linuxamd64_12c_grid_2of2.zip, version: 12.1.0.1}
  - {filename: p13390677_112040_Linux-x86-64_3of7.zip, version: 11.2.0.4, creates: 'grid/welcome.html'}
  - {filename: p10404530_112030_Linux-x86-64_3of7.zip, version: 11.2.0.3, creates: 'grid/stage/properties/userPaths.properties'}
